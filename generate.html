<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generate Recipes</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .container {
      width: 90%;
      max-width: 600px;
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
    }

    h1 {
      color: #333;
    }

    ul {
      list-style-type: none;
      padding-left: 0;
    }

    li {
      margin-bottom: 10px;
    }

    .btn {
      display: inline-block;
      padding: 10px 20px;
      background-color: #ff8e61;
      color: white;
      text-align: center;
      border-radius: 5px;
      text-decoration: none;
      font-weight: bold;
    }

    .btn:hover {
      background-color: #ff7300;
    }

    .reset-btn {
      background-color: #d9534f; /* Red for reset */
    }

    .reset-btn:hover {
      background-color: #c9302c; /* Darker red on hover */
    }
  </style>
</head>
<body>
<div class="container">
<h1>Recipes Based on Your Ingredients</h1>

<ul id="recipe-list"></ul>

<div style="margin-top: 20px;">
  <a href="index.html" class="btn">Start Over</a>
  <button class="btn reset-btn" onclick="resetList()">Reset List</button>
</div>

<script>
  // Predefined dictionary of recipes
  const recipes = {
    orange: ["Orange Juice", "Orange Cake", "Orange Salad"],
    banana: ["Banana Bread", "Banana Smoothie", "Banana Pancakes"],
    apple: ["Apple Pie", "Apple Crumble", "Apple Smoothie"],
    carrot: ["Carrot Soup", "Carrot Cake", "Carrot Salad"]
  };

  // Function to get recipes for a given food item
  function getRecipes(foodItem) {
    return recipes[foodItem.toLowerCase()] || ["No recipes found for this item"];
  }

  // Retrieve detected items from localStorage
  const detectedItems = JSON.parse(localStorage.getItem("detectedItems")) || [];
  
  // Generate recipes for each detected item
  const recipeList = document.getElementById("recipe-list");
  
  if (detectedItems.length > 0) {
    detectedItems.forEach(item => {
      const itemRecipes = getRecipes(item);
      
      // Create a list item for each food item and its recipes
      const listItem = document.createElement("li");
      
      listItem.innerHTML = `<strong>${item}:</strong> ${itemRecipes.join(", ")}`;
      
      recipeList.appendChild(listItem);
    });
  } else {
    recipeList.innerHTML = "<li>No ingredients detected. Please scan again.</li>";
  }

  // Function to reset the list of detected items
  function resetList() {
    if (confirm("Are you sure you want to reset the list?")) {
      localStorage.removeItem("detectedItems"); // Clear the stored list
      alert("The list has been reset.");
      location.reload(); // Refresh the page to reflect changes
    }
  }
</script>
</div>
</body>
</html>